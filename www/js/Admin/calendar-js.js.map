{"version":3,"file":"js/Admin/calendar-js.js","mappings":"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","sources":["webpack://matodo/webpack/bootstrap","webpack://matodo/webpack/runtime/make namespace object","webpack://matodo/./style/Admin/calendar.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener('DOMContentLoaded', () => {\r\n    const root = document.getElementById('adminCalendar');\r\n    if (!root || typeof dayjs === 'undefined') return;\r\n\r\n    // events: { \"YYYY-MM-DD\": [ {id,title,name,detailUrl,type,status,time,route}, ... ], ... }\r\n    let events = {};\r\n    try {\r\n        events = JSON.parse(root.dataset.events || '{}');\r\n    } catch (e) {\r\n        events = {};\r\n    }\r\n\r\n    let current = dayjs(root.dataset.month || dayjs().format('YYYY-MM-01'));\r\n\r\n    const monthLabel = root.querySelector('[data-calendar-label]');\r\n    const grid = root.querySelector('[data-calendar-grid]');\r\n    const prevBtn = root.querySelector('[data-calendar-prev]');\r\n    const nextBtn = root.querySelector('[data-calendar-next]');\r\n    const detailDate = root.querySelector('[data-calendar-detail-date]');\r\n    const detailList = root.querySelector('[data-calendar-detail-list]');\r\n\r\n    function escapeHtml(s) {\r\n        return String(s ?? '').replace(/[&<>\"']/g, (m) => ({\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '\"': '&quot;',\r\n            \"'\": '&#039;',\r\n        }[m]));\r\n    }\r\n\r\n    // \"pending|confirm|canceled\" => \"ƒåek√°|Potvrzeno|Zru≈°eno\"\r\n    function statusLabel(status) {\r\n        if (status === 'confirm') return 'Potvrzeno';\r\n        if (status === 'canceled') return 'Zru≈°eno';\r\n        return 'ƒåek√°';\r\n    }\r\n\r\n    // classes for status badge (optional)\r\n    function statusClass(status) {\r\n        if (status === 'confirm') return 'is-confirm';\r\n        if (status === 'canceled') return 'is-canceled';\r\n        return 'is-pending';\r\n    }\r\n\r\n    function typeLabel(type) {\r\n        return type === 'transfer' ? 'Transfer' : 'Rezervace';\r\n    }\r\n\r\n    function typeClass(type) {\r\n        return type === 'transfer' ? 'is-transfer' : 'is-reservation';\r\n    }\r\n\r\n    function renderCalendar() {\r\n        monthLabel.textContent = current.format('MMMM YYYY'); // nap≈ô. \"prosinec 2025\"\r\n\r\n        // Zaƒç√°tek tabulky ‚Äì pondƒõl√≠ jako prvn√≠ den\r\n        let start = current.startOf('month');\r\n        const startWeekday = start.day();      // 0 = nedƒõle, 1 = pondƒõl√≠, ...\r\n        const offset = (startWeekday + 6) % 7; // pondƒõl√≠ = 0\r\n        start = start.subtract(offset, 'day');\r\n\r\n        grid.innerHTML = '';\r\n\r\n        for (let i = 0; i < 42; i++) {\r\n            const date = start.add(i, 'day');\r\n            const dateStr = date.format('YYYY-MM-DD');\r\n            const isCurrentMonth = date.month() === current.month();\r\n\r\n            const dayEl = document.createElement('button');\r\n            dayEl.type = 'button';\r\n            dayEl.className = 'admin-calendar__day';\r\n            if (!isCurrentMonth) dayEl.classList.add('is-outmonth');\r\n\r\n            const eventsForDay = events[dateStr] || [];\r\n            if (eventsForDay.length > 0) dayEl.classList.add('has-events');\r\n\r\n            dayEl.dataset.date = dateStr;\r\n            dayEl.innerHTML = `\r\n        <span class=\"admin-calendar__day-number\">${date.date()}</span>\r\n        ${eventsForDay.length ? `<span class=\"admin-calendar__day-badge\">${eventsForDay.length}</span>` : ''}\r\n      `;\r\n\r\n            dayEl.addEventListener('click', () => selectDate(date));\r\n            grid.appendChild(dayEl);\r\n        }\r\n\r\n        // defaultnƒõ vyber den odpov√≠daj√≠c√≠ current (typicky 1. v mƒõs√≠ci z data-month)\r\n        selectDate(current, false);\r\n    }\r\n\r\n    function selectDate(date, changeMonth = true) {\r\n        current = date.startOf('day');\r\n\r\n        // zru≈° star√Ω v√Ωbƒõr\r\n        grid.querySelectorAll('.admin-calendar__day.is-selected')\r\n            .forEach((el) => el.classList.remove('is-selected'));\r\n\r\n        const currentStr = current.format('YYYY-MM-DD');\r\n        const selected = Array.from(grid.querySelectorAll('.admin-calendar__day'))\r\n            .find((el) => el.dataset.date === currentStr);\r\n\r\n        if (selected) selected.classList.add('is-selected');\r\n\r\n        // prav√Ω panel\r\n        detailDate.textContent = current.format('D. MMMM YYYY');\r\n\r\n        const eventsForDay = events[currentStr] || [];\r\n        if (!eventsForDay.length) {\r\n            detailList.innerHTML = `<p class=\"admin-calendar-detail__empty\">≈Ω√°dn√© v√Ωlety na tento den.</p>`;\r\n            return;\r\n        }\r\n\r\n        // (volitelnƒõ) se≈ôadit: nejd≈ô√≠v confirm, pak pending, pak canceled + podle ƒçasu\r\n        const sorted = [...eventsForDay].sort((a, b) => {\r\n            const order = (s) => (s === 'confirm' ? 0 : s === 'pending' ? 1 : 2);\r\n            const oa = order(a.status);\r\n            const ob = order(b.status);\r\n            if (oa !== ob) return oa - ob;\r\n\r\n            const ta = a.time || '';\r\n            const tb = b.time || '';\r\n            return ta.localeCompare(tb);\r\n        });\r\n\r\n        const ul = document.createElement('ul');\r\n        ul.className = 'admin-calendar-detail__list';\r\n\r\n        sorted.forEach((ev) => {\r\n            const li = document.createElement('li');\r\n            li.className = 'admin-calendar-detail__item';\r\n\r\n            const tLabel = typeLabel(ev.type);\r\n            const tClass = typeClass(ev.type);\r\n\r\n            const sLabel = statusLabel(ev.status);\r\n            const sClass = statusClass(ev.status);\r\n\r\n            // Extra info pro transfery\r\n            const extra = ev.type === 'transfer'\r\n                ? `\r\n            ${ev.time ? `<div class=\"admin-calendar-detail__meta\">üïí ${escapeHtml(ev.time)}</div>` : ''}\r\n            ${ev.route ? `<div class=\"admin-calendar-detail__meta\">üìç ${escapeHtml(ev.route)}</div>` : ''}\r\n          `\r\n                : '';\r\n\r\n            li.innerHTML = `\r\n        <div class=\"admin-calendar-detail__item-main\">\r\n          <div class=\"admin-calendar-detail__title\">\r\n            <span class=\"admin-calendar-detail__type ${tClass}\">${escapeHtml(tLabel)}</span>\r\n            ${escapeHtml(ev.title)}\r\n            ${ev.status ? `<span class=\"admin-calendar-detail__status ${sClass}\">${escapeHtml(sLabel)}</span>` : ''}\r\n          </div>\r\n          <div class=\"admin-calendar-detail__name\">${escapeHtml(ev.name)}</div>\r\n          ${extra}\r\n        </div>\r\n        <a class=\"admin-calendar-detail__btn\" href=\"${escapeHtml(ev.detailUrl)}\">Detail</a>\r\n      `;\r\n\r\n            ul.appendChild(li);\r\n        });\r\n\r\n        detailList.innerHTML = '';\r\n        detailList.appendChild(ul);\r\n    }\r\n\r\n    prevBtn.addEventListener('click', () => {\r\n        current = current.subtract(1, 'month');\r\n        renderCalendar();\r\n    });\r\n\r\n    nextBtn.addEventListener('click', () => {\r\n        current = current.add(1, 'month');\r\n        renderCalendar();\r\n    });\r\n\r\n    renderCalendar();\r\n});\r\n"],"names":["document","addEventListener","root","getElementById","dayjs","events","JSON","parse","dataset","e","current","month","format","monthLabel","querySelector","grid","prevBtn","nextBtn","detailDate","detailList","escapeHtml","s","String","replace","m","statusLabel","status","statusClass","typeLabel","type","typeClass","renderCalendar","textContent","start","startOf","startWeekday","day","offset","subtract","innerHTML","_loop","date","add","i","dateStr","isCurrentMonth","dayEl","createElement","className","classList","eventsForDay","length","concat","selectDate","appendChild","changeMonth","arguments","undefined","querySelectorAll","forEach","el","remove","currentStr","selected","Array","from","find","sorted","_toConsumableArray","sort","a","b","order","oa","ob","ta","time","tb","localeCompare","ul","ev","li","tLabel","tClass","sLabel","sClass","extra","route","title","name","detailUrl"],"ignoreList":[],"sourceRoot":""}